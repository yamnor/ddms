---
title: 📘 実習① | 計算環境の構築
---

この章では、第一原理計算を用いてデータをつくるための「場所」と「道具」を準備します。具体的には、クラウド上に計算を実行するための環境を用意し、そこに第一原理計算の「エンジン」（`GPAW`）と「操作ツール」（`ASE`）を導入します。

## Google Colab: クラウド上の実験ベンチ

実験の再現性は科学における重要な生命線です。計算科学においては「OS の違い」「ライブラリのバージョンの違い」などが再現性を損なう要因となりがちです。

また、Python のインストールなどで、計算そのものよりも実行環境の構築に時間を取られてしまうケースも少なくありません。

そこでこの講座では、**Google Colaboratory**（以下、Colab）を活用することで、環境構築の手間を省きます。

Colab の「ノートブック」は、コードと実行結果、そして、テキストを一つのファイルに保存できる、まさに **電子実験ノート** の役割を担います。

### Google Colab のセットアップ

1.  **アクセス**: [Google Colab](https://colab.research.google.com/) にアクセスし、Google アカウントでログインしてください。
2.  **新規作成**: メニューの `ファイル` > `ノートブックを新規作成` をクリックします。

![](https://i.gyazo.com/98f5a53c0c052c6bb27409ecba4a2040.png)

## ライブラリのインストール

この講座では主に、`ASE` と `GPAW` という Python ライブラリを使用します。

- `GPAW` (Grid-based Projector-Augmented Wave)
  - `ASE` から渡された原子配置に基づき、量子力学（密度汎関数法; DFT）に基づいて、物理化学的な特性（全エネルギー・電子状態・各原子にかかる力など）を算出する**計算エンジン**です。
-  `ASE` (Atomic Simulation Environment)
  - 原子の種類や位置（座標）を定義し、構造の回転・変形、表面モデルの作成などを行う操作ツールです。
  - 様々な計算エンジンに対して共通のコマンドで計算を投げるための、標準的な統合インターフェース（API）としての役割を担います。

基本的には、`ASE` で計算対象のモデルを構築し、`GPAW` という計算エンジンを使って物性値を算出する」という流れになります。

### インストールコマンドの実行

以下のコマンドを Colab のセルに入力し、実行（`Shift + Enter`）してください。第一原理計算に必須となる `GPAW` のインストールを実行します。

```python
!pip install gpaw==25.7.0
```

`pip` は Python パッケージの管理コマンドです。ここでは、再現性を担保するため、ライブラリのバージョンを明示的に指定（固定）します。この場合、`gpaw==25.7.0` と指定することで、バージョン 25.7.0 の `GPAW` がインストールされます。必要な依存関係も自動でインストールされます。

コンピュータ・シミュレーションを活用した論文を書く際は、使用したコードのバージョンを明記するようにしましょう。用いたライブラリのバージョンが違うと、デフォルトのパラメータや定数が微妙に異なることで、結果が一致しなくなってしまうことがあります。
{.note}

上記のコマンドを実行して Colab に`GPAW`をインストールする場合、自動的に`ASE`も一緒にインストールされるはずです。

本講座では、後続の章で可視化用に `matplotlib`、データ解析用に `pandas`、機械学習用に `scikit-learn` も利用しますが、Colab の場合、これらのライブラリは基本的に、あらかじめインストールされています。

### 動作確認

インストールが完了したら、ライブラリが正しく動作するかを確認します。

以下のコードを実行し、エラーが出ずにバージョン番号が表示されれば、インストールは成功です。

```python
import ase
import gpaw

print(f"ASE version: {ase.__version__}")
print(f"GPAW version: {gpaw.__version__}")
```

**出力例:**
```term
ASE version: 3.26.0
GPAW version: 25.7.0
```

これで Google Colab のセットアップは完了です。本講座の実習でおこなう第一原理計算や機械学習の規模であれば、Colab の標準 CPU ランタイムで十分に実行可能です（GPU/TPU は不要です）。

次章からはいよいよ、この環境を使ってシリコン結晶の第一原理計算（単点エネルギー計算）を実践します。
