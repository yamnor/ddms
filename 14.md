---
title: 📓 付録① | Google Colab 入門
---

「Python の重要性はわかる。でも、自分のパソコンで使えるようにするまでの『環境構築』が面倒で、難しそう...」。この講座の実習では、この問題を根本的に解決するツールとして「 **Google Colab**」を活用します。

https://colab.research.google.com/
{.center}

**Google Colab** とは、Google が提供する、 Web ブラウザ上で直接 Python コードを記述し、実行できる無料（一部有料プランあり）のクラウドサービスです。プログラミング初心者にとって、Colab には従来の学習方法を覆すほどの圧倒的なメリットがあります。

![shadow](https://gyazo.com/26cbd606ab1a81c3ae5f6a6b1d8347d3.png)

まず、環境構築が一切不要であることです。あなたのパソコンに Python 本体や、 `GPAW` のような複雑な専門ライブラリをインストールする必要は一切ありません。必要なのは Web ブラウザ（ Google Chrome など）と Google アカウントだけです。今この瞬間から、すぐに Python プログラミングを始めることができます。

次に、高性能 GPU の無料利用が可能です。原子・分子シミュレーションや深層学習の一部は、通常１台数十万円もする高性能な計算ユニット「 GPU （Graphics Processing Unit）」を必要とすることがあります。 Colab では、この GPU を無料（時間やリソースの制限あり）で利用することが可能です。これは、学生や個人研究者にとって計り知れない恩恵です。

![shadow](https://gyazo.com/2fa2ffa3f3ff7b251f5961fa0833e6aa.png)

さらに、簡単な共有と共同編集ができます。作成した分析コードやレポート（「 ノートブック 」と呼びます）は、 Google ドキュメントやスプレッドシートと同じ感覚で、 URL 一つで研究室の仲間や指導教員と簡単に共有できます。コードが動かなくて困った時も、 ノートブック を共有すれば、エラーの状況を即座に他者へ伝えることができます。

そして、 Google Drive とのシームレスな連携も魅力です。分析したい実験データ（ CSV ファイルなど）や、計算結果を保存する際も、自身の Google Drive とシームレスに連携させることができます。

### Colabの基本操作

Google Colab での作業は、「**ノートブック**」と呼ばれる単位で行います。これは、紙の実験ノート（Lab Notebook）のデジタル版を想像していただくと分かりやすいでしょう。

![shadow](https://gyazo.com/8e7f433feba6ccce30d432213aee3ebf.png)

紙のノートに説明文、計算過程、結果のグラフ、考察を書き込むように、 Colab のノートブックはこれらすべてを一つの文書にまとめて保存・実行できます。

ノートブックは、「 **セル** 」というブロックの集まりで構成されています。 セルには、主に二つの種類があります。

一つは、 Python コードを記述し、実行するための「**コードセル**」です。セルの左上には「実行ボタン（再生マークのアイコン）」が表示されます。

![shadow](https://gyazo.com/08973a6a903b3cde9903fcbc939ad611.png)

もう一つは、説明文や見出し、数式（LaTeX 形式）、画像などを記述するための「**テキストセル**」です。研究レポートや論文のドラフトのように、コードの意図や結果の考察をリッチテキストで記述できます。

![shadow](https://gyazo.com/39679f05a350aa5a5797e939bb880611.png)

セルの実行方法は簡単です。実行したいセルを選択した状態で、セルの左側にある「実行ボタン」をクリックするか、キーボードの `Shift + Enter` キーを同時に押します。

コードセルが実行されると、セルの左側に実行順序を示す番号が表示されます。早速、具体的な操作を体験してみましょう。

#### 実例１：Hello, World!

Colab の ノートブック を開き、左上にある「`+ コード`」ボタンをクリックして、新しい コードセル を追加します。その セル に、以下のコードを入力します。

```python
print("Hello, World!")
```

セル を選択した状態で `Shift + Enter` を押して実行します。コードを実行した結果がセルの直下に表示されます。

![photo](https://gyazo.com/db3cd297062e2141baad7dcfc1128c0e.png)

#### 実例２：ライブラリのインストール

Colab には多くの標準的な Python ライブラリがプリインストールされていますが、たとえば、ケモインフォマティクスのライブラリ「 `RDKit` 」は、使用する前に別途インストールが必要です。新しい コードセル に、以下のコマンドを入力して実行します。

```python
!pip install rdkit
```

ここで先頭に付いている `!`（エクスクラメーションマーク）は、この命令が Python のコードではなく、 Colab の基盤となっている OS （Linux）のコマンドを実行することを意味します。

「 `pip` 」とは、 Python のパッケージ（ライブラリ）を管理・インストールするための標準的なツールです。`!pip install` コマンドで、RDKitのような外部ライブラリも簡単に導入できます。

![photo](https://gyazo.com/acfc6edf4ec25d36cfa794493743ea30.png "ライブラリ（RDKit）のインストール")

#### 実例３：分子構造を描画する

`RDKit` がインストールできたので、試しに、アスピリンの分子構造を描画してみましょう。まず、 `RDKit` ライブラリを Colab に読み込みます（「 **インポート** 」と呼びます）。

```python
from rdkit import Chem
from rdkit.Chem import Draw
```

次に、アスピリンの分子構造を「 **SMILES** （スマイルズ）」と呼ばれる文字列で指定します。SMILES は、分子の化学構造を一行のテキスト文字列で表現するための標準的な記法です。

```python
aspirin_smiles = "CC(=O)OC1=CC=CC=C1C(=O)O"
mol = Chem.MolFromSmiles(aspirin_smiles)
```

`Chem.MolFromSmiles()` 関数は、 SMILES 文字列を `RDKit` が内部で扱える「 **分子オブジェクト** 」と呼ばれる形式に変換します。

最後に、この `mol` 変数の中身を表示します。 Colab （および Jupyter Notebook）では、セルの最後の行に変数名を書くだけで、その内容がリッチに表示されます。

```python
mol
```

![photo](https://gyazo.com/c43c9b28d3e882d56482a7292a605a72.png "RDKitによる分子構造の描画")

このように、RDKitライブラリを使うことで、SMILES文字列から簡単に分子の2D構造を描画できます。

#### 実例４：分子の物性値を計算する

`RDKit` の機能は、分子構造を描画するだけではありません。`Descriptors` モジュールを使うことで、分子量（**MolWt**）や脂溶性（水と油への溶けやすさ）の指標である **LogP** など、化学的に重要な物性値を瞬時に計算できます。

```python
from rdkit.Chem import Descriptors

mol_weight = Descriptors.MolWt(mol)
logp = Descriptors.MolLogP(mol)

print(f"アスピリンの分子量: {mol_weight}")
print(f"アスピリンのLogP: {logp}")
```

![photo](https://gyazo.com/c882037d4d2b87548af863622369cd4c.png "RDKitによる物性値の計算")

これらの操作を通じて、 Colab が単なるテキストエディタではなく、コードの実行、ライブラリの管理、画像の表示、計算結果の出力といった、研究のプロセス全体をサポートする強力な「電子実験ノート」であることが実感できたかと思います。

### Colab の AI アシスタント機能：コード生成とデバッグのヒント

現在の Google Colab には、 Google の最新 AI である「**Gemini**」を搭載した強力な **AI アシスタント機能** が標準で統合されています。

![shadow](https://gyazo.com/96143f40ddc046c8c0e93a6f2cffc8e6.png)

この機能は、プログラミングを学び始めた初心者にとっては「**AIチューター** （個人教師）」として、熟練した開発者にとっては「超優秀なアシスタント」として機能します。

#### 実例５：AIによるコード生成

空のコードセルをクリックすると、入力欄に「AI で生成します」というリンクが表示されることがあります。これをクリックすると、 **プロンプト** （AI への指示文）を入力するウィンドウが開きます。

![shadow](https://gyazo.com/cef712399b74773c358cb8e9457bf32f.png)

このチャット欄に、これまでのセクションで実行したかったことを「指示」（プロンプト）として、日本語でそのまま入力してみましょう。

```prompt
RDKit を使って、アスピリンの SMILES 文字列（CC(=O)OC1=CC=CC=C1C(=O)O）から分子構造を描画し、'aspirin.png'というファイル名で画像として保存する
```

Colab の AI アシスタントに日本語で指示（プロンプト）を与えるだけで、`RDKit` の操作のような専門的なコードも自動で生成できます。

![shadow](https://gyazo.com/b50e6afd7d5259f206529414b013275e.png "AIによるコード生成")

![shadow](https://gyazo.com/83f849e9be7a9aff8762363d3b02e35d.png)

#### 実例６：AIによるコード補完

AI は、コードの入力中にも常にアシストしてくれます。例えば、`from rdkit.Chem import D` まで入力すると、その続き（文脈）を AI が予測し、`Descriptors` や `Draw` といった候補をグレーのイタリック体で提案します。

![photo](https://gyazo.com/caf8333c739ed9f05d289236514628b4.png)

提案が正しければ、 **Tab** キーを押すだけでそのコードが受け入れられ、入力が完了します。これにより、タイピングの手間が省けるだけでなく、ライブラリの正確なモジュール名を暗記していなくても作業を進められます。

#### 実例７：AIによるデバッグ支援

AI のサポート機能の中で、初学者にとって最も価値があるのが、この「 **デバッグ支援** 」かもしれません。わざとエラーを起こしてみましょう。

`Chem.MolFromSmiles` という正しい関数名を、`Chem.MoleculeFromSmiles` とタイプミスして実行しようとしてみましょう。当然、`AttributeError` というエラーが発生し、 **ノートブック** にエラーメッセージが表示されます。

![photo](https://gyazo.com/8aaaa83436e8f95415830d43133a4466.png "エラーメッセージ")

従来、プログラミング学習者はこのようなエラーメッセージに怯え、内容をコピーして検索し、挫折するケースが後を絶ちませんでした。

しかし、Colab では違います。エラーメッセージのすぐ下に、「 **エラーの説明** 」というボタンが表示されます。このボタンを押すと、AIがそのエラーの原因と、考えられる修正案を日本語で丁寧に解説してくれます。

![shadow](https://gyazo.com/302c043c6bfa193b6de0afd676261eef.png "AIによるデバッグ支援")

このように、 Colab の AI アシスタントは、コード生成からエラー修正まで、学習プロセスのあらゆる段階で「 **AIチューター** 」として学習者を支援します。これにより、学習の挫折率は劇的に低下し、材料科学の研究者・開発者としての本来の目的に集中することが可能になります。